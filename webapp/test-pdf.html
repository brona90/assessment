<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Export Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body>
    <h1>PDF Export Test</h1>
    <button onclick="testPDF()">Test PDF Generation</button>
    <div id="output"></div>

    <script>
        function testPDF() {
            const output = document.getElementById('output');
            output.innerHTML = '<p>Testing PDF library...</p>';
            
            // Log what's available
            console.log('window.jspdf:', window.jspdf);
            console.log('window.jsPDF:', window.jsPDF);
            
            try {
                // Try multiple ways to access jsPDF
                let jsPDF;
                if (window.jspdf && window.jspdf.jsPDF) {
                    jsPDF = window.jspdf.jsPDF;
                    output.innerHTML += '<p>✅ Found jsPDF at window.jspdf.jsPDF</p>';
                } else if (window.jsPDF) {
                    jsPDF = window.jsPDF;
                    output.innerHTML += '<p>✅ Found jsPDF at window.jsPDF</p>';
                } else {
                    output.innerHTML += '<p>❌ jsPDF not found!</p>';
                    return;
                }
                
                // Try to create a simple PDF
                const pdf = new jsPDF();
                pdf.text('Hello World!', 10, 10);
                pdf.save('test.pdf');
                
                output.innerHTML += '<p>✅ PDF generated successfully!</p>';
            } catch (error) {
                output.innerHTML += '<p>❌ Error: ' + error.message + '</p>';
                console.error('Error:', error);
            }
        }
        
        // Test on page load
        window.addEventListener('load', () => {
            const output = document.getElementById('output');
            output.innerHTML = '<h3>Library Status:</h3>';
            output.innerHTML += '<p>window.jspdf: ' + (typeof window.jspdf) + '</p>';
            output.innerHTML += '<p>window.jsPDF: ' + (typeof window.jsPDF) + '</p>';
            
            if (window.jspdf) {
                output.innerHTML += '<p>window.jspdf.jsPDF: ' + (typeof window.jspdf.jsPDF) + '</p>';
            }
        });
    </script>
</body>
</html>