    it('should handle save evidence errors gracefully', async () => {
      const consoleSpy = vi.spyOn(console, 'error').mockImplementation(() => {});
      vi.spyOn(Storage.prototype, 'setItem').mockImplementation(() => {
        throw new Error('Storage error');
      });
      
      const result = await storageService.saveEvidence('q1', { text: 'test' });
      expect(result).toBe(false);
      
      consoleSpy.mockRestore();
    });
